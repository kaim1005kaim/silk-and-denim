@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html { 
    scroll-behavior: smooth; 
  }
  body { 
    @apply bg-silk-100 text-ink-900 antialiased; 
  }

  /* 極薄の質感レイヤー（Aoyama調に合わせてさらに控えめに） */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;
    background:
      radial-gradient(1200px 600px at 8% -10%, rgba(19,50,74,.025), transparent 60%),
      radial-gradient(1000px 500px at 100% 0%, rgba(13,28,43,.02), transparent 55%);
    opacity: .4;
    mix-blend-mode: multiply;
  }
}

@layer utilities {
  .text-balance { 
    text-wrap: balance; 
  }
  .text-pretty { 
    text-wrap: pretty; 
  }
  .jp-palt {
    font-feature-settings: 'palt' 1;
  }

  /* 編集的罫線 */
  .hairline { 
    box-shadow: inset 0 -1px 0 var(--line, rgba(16,24,32,.08)); 
  }
  .border-line {
    border-color: var(--line, rgba(16,24,32,.08));
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center gap-2 rounded-2xl px-5 py-2.5 text-sm
           font-medium text-white bg-indigo-900 hover:bg-indigo-800 transition;
  }
  .btn-ghost {
    @apply inline-flex items-center gap-2 rounded-2xl px-5 py-2.5 text-sm
           font-medium border border-[color:var(--line,rgba(16,24,32,.08))]
           text-ink-900 hover:bg-white/70 transition;
  }
  .text-link {
    @apply inline-flex items-center gap-2 text-sm font-medium tracking-wide uppercase text-ink-900;
  }
  .text-link::after {
    content: '';
    width: 18px; height: 18px;
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    background: currentColor;
    padding: 4px;
    mask-composite: exclude;
    -webkit-mask-composite: xor;
    border-radius: 50%;
  }

  .nav-link {
    @apply relative inline-flex items-center py-2 text-xs uppercase tracking-[0.18em] text-ink-500 transition;
  }
  .nav-link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -6px;
    height: 2px;
    width: 0;
    background: currentColor;
    transition: width .25s ease;
  }
  .nav-link:hover { 
    @apply text-ink-900; 
  }
  .nav-link:hover::after { 
    width: 100%; 
  }
  .nav-link--active { 
    @apply text-ink-900; 
  }
  .nav-link--active::after { 
    width: 100%; 
  }

  .field {
    @apply w-full rounded-2xl border border-[color:var(--line,rgba(16,24,32,.08))] bg-white/90
           px-4 py-3 text-[15px] placeholder:text-ink-500/60
           focus:outline-none focus:ring-2 focus:ring-indigo-900/10 focus:border-indigo-900/30;
  }

  /* Editorial typography styles */
  .heading-title {
    @apply text-[clamp(2rem,5vw,3.5rem)] font-semibold tracking-[-0.02em] leading-[1.1];
  }
  .heading-section {
    @apply text-[clamp(1.5rem,3.5vw,2.5rem)] font-medium tracking-[-0.01em] leading-[1.2];
  }
  .heading-sub {
    @apply text-[clamp(1.2rem,2.5vw,1.75rem)] font-medium tracking-[-0.005em] leading-[1.3];
  }
  .heading-display {
    @apply font-serif text-[clamp(2.2rem,6vw,4rem)] leading-[1.1] tracking-[-0.01em];
  }

  /* Container styles */
  .container-editorial {
    @apply container max-w-7xl mx-auto;
  }
  .container-narrow {
    @apply container mx-auto max-w-[1140px] px-6 md:px-8;
  }

  /* Section spacing */
  .py-section {
    @apply py-24 md:py-32;
  }
  .mt-section {
    @apply mt-24 md:mt-32;
  }
}

/* Focus visible styles */
:focus-visible {
  @apply outline-none ring-2 ring-indigo-900/20 ring-offset-2 ring-offset-silk-50;
}

/* Selection styles */
::selection {
  @apply bg-indigo-900 text-silk-50;
}
